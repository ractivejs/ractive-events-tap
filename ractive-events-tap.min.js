!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-tap plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b=function(a,b){var c,d,e,f,g,h,i;return f=5,g=400,c=function(c){var d,e,i,j,k,l,m;h||(void 0===c.which||1===c.which)&&(e=c.clientX,i=c.clientY,d=this,j=c.pointerId,k=function(a){a.pointerId==j&&(b({node:d,original:a}),m())},l=function(a){a.pointerId==j&&(Math.abs(a.clientX-e)>=f||Math.abs(a.clientY-i)>=f)&&m()},m=function(){a.removeEventListener("MSPointerUp",k,!1),document.removeEventListener("MSPointerMove",l,!1),document.removeEventListener("MSPointerCancel",m,!1),a.removeEventListener("pointerup",k,!1),document.removeEventListener("pointermove",l,!1),document.removeEventListener("pointercancel",m,!1),a.removeEventListener("click",k,!1),document.removeEventListener("mousemove",l,!1)},window.navigator.pointerEnabled?(a.addEventListener("pointerup",k,!1),document.addEventListener("pointermove",l,!1),document.addEventListener("pointercancel",m,!1)):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerUp",k,!1),document.addEventListener("MSPointerMove",l,!1),document.addEventListener("MSPointerCancel",m,!1)):(a.addEventListener("click",k,!1),document.addEventListener("mousemove",l,!1)),setTimeout(m,g))},window.navigator.pointerEnabled?a.addEventListener("pointerdown",c,!1):window.navigator.msPointerEnabled?a.addEventListener("MSPointerDown",c,!1):a.addEventListener("mousedown",c,!1),d=function(c){var d,e,j,k,l,m,n,o;1===c.touches.length&&(k=c.touches[0],e=k.clientX,j=k.clientY,d=this,l=k.identifier,n=function(a){var c;c=a.changedTouches[0],c.identifier!==l&&o(),a.preventDefault(),h=!0,clearTimeout(i),i=setTimeout(function(){h=!1},400),b({node:d,original:a}),o()},m=function(a){var b;(1!==a.touches.length||a.touches[0].identifier!==l)&&o(),b=a.touches[0],(Math.abs(b.clientX-e)>=f||Math.abs(b.clientY-j)>=f)&&o()},o=function(){a.removeEventListener("touchend",n,!1),window.removeEventListener("touchmove",m,!1),window.removeEventListener("touchcancel",o,!1)},a.addEventListener("touchend",n,!1),window.addEventListener("touchmove",m,!1),window.addEventListener("touchcancel",o,!1),setTimeout(o,g))},a.addEventListener("touchstart",d,!1),("BUTTON"===a.tagName||"button"===a.type)&&(e=function(c){b({node:a,original:c})},a.addEventListener("click",e,!1)),{teardown:function(){a.removeEventListener("pointerdown",c,!1),a.removeEventListener("MSPointerDown",c,!1),a.removeEventListener("mousedown",c,!1),a.removeEventListener("touchstart",d,!1),a.removeEventListener("click",e,!1)}}};a.events.tap=b});